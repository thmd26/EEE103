<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Sorting Algorithms - Bubble and Selection Sort</title>
      <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
      <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
      <script src="https://cdn.tailwindcss.com"></script>
      <style>
         body { margin:0; padding:0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; }
         .code-line { font-family: 'Consolas', 'Monaco', 'Courier New', monospace; line-height:1.9; }
      </style>
   </head>
   <body>
      <div id="root"></div>
      <script type="text/babel">
         const { useState, useEffect } = React;
         const Eye = () => (
             <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
         );
         const EyeOff = () => (
             <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
         );
         const Sorting = () => {
             const [currentSlide, setCurrentSlide] = useState(0);
             const [revealed, setRevealed] = useState({});
             const slides = [
                 // Slide 1: Title
                 {
                     type: 'title',
                     content: {
                         course: 'EEE 103 - Computer Programming',
                         lecture: 'Sorting Algorithms',
                         part: 'Bubble and Selection Sort',
                         faculty: 'Sk Tahmed Salim Rafid'
                     }
                 },
                 // Slide 2: What is Bubble Sort
                 {
                     type: 'concept',
                     title: 'What is Bubble Sort?',
                     points: [
                         'Bubble Sort is a simple comparison-based sorting algorithm.',
                         'It repeatedly iterates through the list, compares adjacent elements, and swaps them if they are in the wrong order.',
                         'Each pass "bubbles" the largest unsorted element to its correct position.',
                         'The algorithm continues until no more swaps are needed.'
                     ]
                 },
                 // Slide 3: Bubble Sort Animation
                 {
                     type: 'sort-animation',
                     title: 'Bubble Sort Step-by-Step Animation',
                     description: 'Array: [5, 3, 8, 4, 2]',
                     algorithm: 'bubble',
                     steps: [
           {
             "action": "initial",
             "indices": [],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               0,
               1
             ],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               0,
               1
             ],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "swap",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               5,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               5,
               8,
               4,
               2
             ]
           },
           {
             "action": "no_swap",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               5,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               5,
               8,
               4,
               2
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               5,
               8,
               4,
               2
             ]
           },
           {
             "action": "swap",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               5,
               4,
               8,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               3,
               4
             ],
             "array": [
               3,
               5,
               4,
               8,
               2
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               3,
               4
             ],
             "array": [
               3,
               5,
               4,
               8,
               2
             ]
           },
           {
             "action": "swap",
             "indices": [
               3,
               4
             ],
             "array": [
               3,
               5,
               4,
               2,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               5,
               4,
               2,
               8
             ]
           },
           {
             "action": "no_swap",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               5,
               4,
               2,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               5,
               4,
               2,
               8
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               5,
               4,
               2,
               8
             ]
           },
           {
             "action": "swap",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               4,
               5,
               2,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               4,
               5,
               2,
               8
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               4,
               5,
               2,
               8
             ]
           },
           {
             "action": "swap",
             "indices": [
               2,
               3
             ],
             "array": [
               3,
               4,
               2,
               5,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               4,
               2,
               5,
               8
             ]
           },
           {
             "action": "no_swap",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               4,
               2,
               5,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               4,
               2,
               5,
               8
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               4,
               2,
               5,
               8
             ]
           },
           {
             "action": "swap",
             "indices": [
               1,
               2
             ],
             "array": [
               3,
               2,
               4,
               5,
               8
             ]
           },
           {
             "action": "compare",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               2,
               4,
               5,
               8
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               0,
               1
             ],
             "array": [
               3,
               2,
               4,
               5,
               8
             ]
           },
           {
             "action": "swap",
             "indices": [
               0,
               1
             ],
             "array": [
               2,
               3,
               4,
               5,
               8
             ]
           },
           {
             "action": "done",
             "indices": [],
             "array": [
               2,
               3,
               4,
               5,
               8
             ]
           }
         ],
                     revealGroups: Array(27).fill([])  // length = steps.length - 1
                 },
                 // Slide 4: Bubble Sort Code
                 {
                     type: 'code-with-output',
                     title: 'Bubble Sort Implementation in C',
                     description: 'Example with array [5, 3, 8, 4, 2]',
                     code: [
                         '#include <stdio.h>',
                         '',
                         'void bubbleSort(int arr[], int n) {',
                         '    int i, j, temp;',
                         '    for (i = 0; i < n-1; i++) {',
                         '        for (j = 0; j < n-i-1; j++) {',
                         '            if (arr[j] > arr[j+1]) {',
                         '                temp = arr[j];',
                         '                arr[j] = arr[j+1];',
                         '                arr[j+1] = temp;',
                         '            }',
                         '        }',
                         '    }',
                         '}',
                         '',
                         'int main() {',
                         '    int arr[] = {5, 3, 8, 4, 2};',
                         '    int n = sizeof(arr)/sizeof(arr[0]);',
                         '    int i;',
                         '    printf("Before: ");',
                         '    for (i=0; i<n; i++) printf("%d ", arr[i]);',
                         '    bubbleSort(arr, n);',
                         '    printf("\\nAfter: ");',
                         '    for (i=0; i<n; i++) printf("%d ", arr[i]);',
                         '    return 0;',
                         '}'
                     ],
                     revealGroups: [[0], [2,13], [3,4,5,6,7,8,9,10,11,12], [15], [16,17,18,19,20,21,22,23,24]],
                     output: 'Before: 5 3 8 4 2\nAfter: 2 3 4 5 8'
                 },
                 // Slide 5: What is Selection Sort
                 {
                     type: 'concept',
                     title: 'What is Selection Sort?',
                     points: [
                         'Selection Sort is a simple comparison-based sorting algorithm.',
                         'It divides the input list into sorted and unsorted regions.',
                         'In each iteration, it finds the minimum element in the unsorted region.',
                         'It swaps the minimum with the first element of the unsorted region.',
                         'The process repeats until the array is sorted.'
                     ]
                 },
                 // Slide 6: Selection Sort Animation
                 {
                     type: 'sort-animation',
                     title: 'Selection Sort Step-by-Step Animation',
                     description: 'Array: [5, 3, 8, 4, 2]',
                     algorithm: 'selection',
                     steps: [
           {
             "action": "initial",
             "indices": [],
             "min_idx": null,
             "pass": null,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "start_pass",
             "pass": 0,
             "min_idx": 0,
             "indices": [],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               1
             ],
             "min_idx": 0,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "update_min",
             "new_min_idx": 1,
             "old_min_idx": 0,
             "indices": [
               1
             ],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               2
             ],
             "min_idx": 1,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "no_update",
             "indices": [
               2
             ],
             "min_idx": 1,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               3
             ],
             "min_idx": 1,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "no_update",
             "indices": [
               3
             ],
             "min_idx": 1,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "compare",
             "indices": [
               4
             ],
             "min_idx": 1,
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "update_min",
             "new_min_idx": 4,
             "old_min_idx": 1,
             "indices": [
               4
             ],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               0,
               4
             ],
             "array": [
               5,
               3,
               8,
               4,
               2
             ]
           },
           {
             "action": "swap",
             "indices": [
               0,
               4
             ],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "start_pass",
             "pass": 1,
             "min_idx": 1,
             "indices": [],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               2
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "no_update",
             "indices": [
               2
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               3
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "no_update",
             "indices": [
               3
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               4
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "no_update",
             "indices": [
               4
             ],
             "min_idx": 1,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "no_swap_pass",
             "indices": [],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "start_pass",
             "pass": 2,
             "min_idx": 2,
             "indices": [],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               3
             ],
             "min_idx": 2,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "update_min",
             "new_min_idx": 3,
             "old_min_idx": 2,
             "indices": [
               3
             ],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               4
             ],
             "min_idx": 3,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "no_update",
             "indices": [
               4
             ],
             "min_idx": 3,
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               2,
               3
             ],
             "array": [
               2,
               3,
               8,
               4,
               5
             ]
           },
           {
             "action": "swap",
             "indices": [
               2,
               3
             ],
             "array": [
               2,
               3,
               4,
               8,
               5
             ]
           },
           {
             "action": "start_pass",
             "pass": 3,
             "min_idx": 3,
             "indices": [],
             "array": [
               2,
               3,
               4,
               8,
               5
             ]
           },
           {
             "action": "compare",
             "indices": [
               4
             ],
             "min_idx": 3,
             "array": [
               2,
               3,
               4,
               8,
               5
             ]
           },
           {
             "action": "update_min",
             "new_min_idx": 4,
             "old_min_idx": 3,
             "indices": [
               4
             ],
             "array": [
               2,
               3,
               4,
               8,
               5
             ]
           },
           {
             "action": "needs_swap",
             "indices": [
               3,
               4
             ],
             "array": [
               2,
               3,
               4,
               8,
               5
             ]
           },
           {
             "action": "swap",
             "indices": [
               3,
               4
             ],
             "array": [
               2,
               3,
               4,
               5,
               8
             ]
           },
           {
             "action": "done",
             "indices": [],
             "array": [
               2,
               3,
               4,
               5,
               8
             ]
           }
         ],
                     revealGroups: Array(31).fill([])  // length = steps.length - 1
                 },
                 // Slide 7: Selection Sort Code
                 {
                     type: 'code-with-output',
                     title: 'Selection Sort Implementation in C',
                     description: 'Example with array [5, 3, 8, 4, 2]',
                     code: [
                         '#include <stdio.h>',
                         '',
                         'void selectionSort(int arr[], int n) {',
                         '    int i, j, min_idx, temp;',
                         '    for (i = 0; i < n-1; i++) {',
                         '        min_idx = i;',
                         '        for (j = i+1; j < n; j++) {',
                         '            if (arr[j] < arr[min_idx]) {',
                         '                min_idx = j;',
                         '            }',
                         '        }',
                         '        if (min_idx != i) {',
                         '            temp = arr[i];',
                         '            arr[i] = arr[min_idx];',
                         '            arr[min_idx] = temp;',
                         '        }',
                         '    }',
                         '}',
                         '',
                         'int main() {',
                         '    int arr[] = {5, 3, 8, 4, 2};',
                         '    int n = sizeof(arr)/sizeof(arr[0]);',
                         '    int i;',
                         '    printf("Before: ");',
                         '    for (i=0; i<n; i++) printf("%d ", arr[i]);',
                         '    selectionSort(arr, n);',
                         '    printf("\\nAfter: ");',
                         '    for (i=0; i<n; i++) printf("%d ", arr[i]);',
                         '    return 0;',
                         '}'
                     ],
                     revealGroups: [[0], [2,17], [3,4,5,6,7,8,9,10,11,12,13,14,15,16], [19], [20,21,22,23,24,25,26,27,28]],
                     output: 'Before: 5 3 8 4 2\nAfter: 2 3 4 5 8'
                 },
                 // Thank you slide
                 { type: 'thankyou' }
             ];
             // keyboard handling
             useEffect(() => {
                 const onKey = (e) => {
                     if (e.key === 'ArrowRight' || e.key === 'Tab') {
                         e.preventDefault();
                         if (currentSlide < slides.length - 1) { setCurrentSlide(s => s + 1); setRevealed({}); }
                         return;
                     }
                     if (e.key === 'ArrowLeft') { if (currentSlide > 0) { setCurrentSlide(s => s - 1); setRevealed({}); } return; }
                     if (e.key === 'b' || e.key === 'B') {
                         e.preventDefault();
                         const slide = slides[currentSlide];
                         const newRevealed = { ...revealed };
                         if (slide.type === 'concept') {
                             (slide.points || []).forEach((_,i) => newRevealed[`${currentSlide}-${i}`] = true);
                         } else if (slide.type === 'statement-intro') {
                             (slide.explanation || []).forEach((_,i) => newRevealed[`${currentSlide}-${i}`] = true);
                         } else if (slide.type === 'code-with-output' || slide.type === 'sort-animation') {
                             (slide.revealGroups || []).forEach((_,i) => newRevealed[`${currentSlide}-${i}`] = true);
                         }
                         setRevealed(newRevealed);
                         return;
                     }
                     if (e.key === 'ArrowDown' || e.key === ' ') {
                         e.preventDefault();
                         const slide = slides[currentSlide];
                         if (slide.type === 'concept') {
                             const total = slide.points.length;
                             for (let i=0;i<total;i++) {
                                 if (!revealed[`${currentSlide}-${i}`]) { setRevealed(r => ({...r,[`${currentSlide}-${i}`]: true})); return; }
                             }
                             if (currentSlide < slides.length -1) { setCurrentSlide(s => s+1); setRevealed({}); }
                         } else if (slide.type === 'statement-intro') {
                             const total = slide.explanation.length;
                             for (let i=0;i<total;i++) {
                                 if (!revealed[`${currentSlide}-${i}`]) { setRevealed(r => ({...r,[`${currentSlide}-${i}`]: true})); return; }
                             }
                             if (currentSlide < slides.length -1) { setCurrentSlide(s => s+1); setRevealed({}); }
                         } else if (slide.type === 'code-with-output') {
                             const total = slide.revealGroups.length;
                             for (let i=0;i<total;i++) {
                                 if (!revealed[`${currentSlide}-${i}`]) { setRevealed(r => ({...r,[`${currentSlide}-${i}`]: true})); return; }
                             }
                             if (currentSlide < slides.length -1) { setCurrentSlide(s => s+1); setRevealed({}); }
                         } else if (slide.type === 'sort-animation') {
                             const total = slide.steps.length - 1;
                             for (let i=0;i<total;i++) {
                                 if (!revealed[`${currentSlide}-${i}`]) { setRevealed(r => ({...r,[`${currentSlide}-${i}`]: true})); return; }
                             }
                             if (currentSlide < slides.length -1) { setCurrentSlide(s => s+1); setRevealed({}); }
                         } else {
                             if (currentSlide < slides.length -1) { setCurrentSlide(s => s+1); setRevealed({}); }
                         }
                     }
                     if (e.key === 'ArrowUp') {
                         e.preventDefault();
                         const slide = slides[currentSlide];
                         if (slide.type === 'concept') {
                             const total = slide.points.length;
                             for (let i=total-1;i>=0;i--) {
                                 if (revealed[`${currentSlide}-${i}`]) { const nr = {...revealed}; delete nr[`${currentSlide}-${i}`]; setRevealed(nr); return; }
                             }
                             if (currentSlide > 0) { setCurrentSlide(s => s-1); setRevealed({}); }
                         } else if (slide.type === 'statement-intro') {
                             const total = slide.explanation.length;
                             for (let i=total-1;i>=0;i--) {
                                 if (revealed[`${currentSlide}-${i}`]) { const nr = {...revealed}; delete nr[`${currentSlide}-${i}`]; setRevealed(nr); return; }
                             }
                             if (currentSlide > 0) { setCurrentSlide(s => s-1); setRevealed({}); }
                         } else if (slide.type === 'code-with-output') {
                             const total = slide.revealGroups.length;
                             for (let i=total-1;i>=0;i--) {
                                 if (revealed[`${currentSlide}-${i}`]) { const nr = {...revealed}; delete nr[`${currentSlide}-${i}`]; setRevealed(nr); return; }
                             }
                             if (currentSlide > 0) { setCurrentSlide(s => s-1); setRevealed({}); }
                         } else if (slide.type === 'sort-animation') {
                             const total = slide.steps.length - 1;
                             for (let i=total-1;i>=0;i--) {
                                 if (revealed[`${currentSlide}-${i}`]) { const nr = {...revealed}; delete nr[`${currentSlide}-${i}`]; setRevealed(nr); return; }
                             }
                             if (currentSlide > 0) { setCurrentSlide(s => s-1); setRevealed({}); }
                         } else {
                             if (currentSlide > 0) { setCurrentSlide(s => s-1); setRevealed({}); }
                         }
                     }
                 };
                 window.addEventListener('keydown', onKey);
                 return () => window.removeEventListener('keydown', onKey);
             }, [currentSlide, revealed]);
             const toggle = (k) => setRevealed(r => ({...r, [k]: !r[k]}));
             const slide = slides[currentSlide];
             return (
                 <div className="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 flex items-center justify-center p-4">
                     <div className="bg-white rounded-xl shadow-2xl w-[1280px] h-[820px] max-w-[96vw] max-h-[96vh] overflow-hidden">
                         <div className="p-8 h-full overflow-auto">
                             {/* Title */}
                             {slide.type === 'title' && (
                                 <div className="h-full flex flex-col items-center justify-center text-center gap-6">
                                     <div className="text-blue-700 font-bold text-2xl">{slide.content.course}</div>
                                     <div className="text-4xl font-semibold text-gray-800">{slide.content.lecture}</div>
                                     <div className="text-5xl font-extrabold text-gray-900">{slide.content.part}</div>
                                     <div className="mt-6 text-2xl text-gray-700">Prepared by: {slide.content.faculty}</div>
                                 </div>
                             )}
                             {/* Concept / bullet slides */}
                             {slide.type === 'concept' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-4xl font-bold text-blue-900 mb-6 border-b-4 border-blue-500 pb-3">{slide.title}</h2>
                                     <div className="flex-1 flex flex-col justify-center gap-6">
                                         {slide.points.map((p, i) => (
                                             <div key={i} className="flex items-start gap-4">
                                                 <button onClick={() => toggle(`${currentSlide}-${i}`)} className="mt-1 w-9 h-9 rounded-full bg-blue-500 text-white flex items-center justify-center">{revealed[`${currentSlide}-${i}`] ? <Eye/> : <EyeOff/>}</button>
                                                 <div className={`text-3xl transition-all duration-400 ${revealed[`${currentSlide}-${i}`] ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-4'}`}><span className="text-blue-600 font-bold mr-3">▸</span>{p}</div>
                                             </div>
                                         ))}
                                     </div>
                                 </div>
                             )}
                             {/* statement-intro (syntax + explanation) */}
                             {slide.type === 'statement-intro' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-4xl font-bold text-blue-900 mb-4 border-b-4 border-blue-500 pb-3">{slide.title}</h2>
                                     <div className="space-y-5">
                                         <div className="bg-yellow-50 border-4 border-yellow-400 rounded-lg p-5">
                                             <p className="text-xl text-gray-800">{slide.description}</p>
                                         </div>
                                         <div className="bg-gray-900 rounded-lg p-5">
                                             <div className="text-green-400 font-semibold text-lg mb-3">Syntax:</div>
                                             <pre className="text-gray-100 font-mono text-lg whitespace-pre-wrap">{slide.syntax}</pre>
                                         </div>
                                         <div className="bg-blue-50 rounded-lg p-5 border-2 border-blue-300">
                                             <div className="text-blue-800 font-bold text-xl mb-4">Explanation:</div>
                                             <div className="space-y-3">
                                                 {slide.explanation.map((e, idx) => (
                                                     <div key={idx} className="flex items-start gap-3">
                                                         <button onClick={() => toggle(`${currentSlide}-${idx}`)} className="mt-1 w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center">{revealed[`${currentSlide}-${idx}`] ? <Eye/> : <EyeOff/>}</button>
                                                         <div className={`text-2xl text-gray-700 transition-all duration-400 ${revealed[`${currentSlide}-${idx}`] ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-4'}`}><span className="text-blue-600 mr-2">•</span>{e}</div>
                                                     </div>
                                                 ))}
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             )}
                             {/* code-with-output */}
                             {slide.type === 'code-with-output' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-3xl font-bold text-blue-900 mb-3 border-b-4 border-blue-500 pb-2">{slide.title}</h2>
                                     {slide.description && <p className="text-lg text-gray-600 mb-3 italic">{slide.description}</p>}
                                     <div className="flex-1 flex flex-col">
                                         <div className="flex-1 bg-gray-900 rounded-lg p-5 overflow-auto">
                                             <div className="font-mono text-lg">
                                                 {slide.code.map((line, li) => {
                                                     const groupIdx = slide.revealGroups.findIndex(g => g.includes(li));
                                                     const isRevealed = groupIdx !== -1 && revealed[`${currentSlide}-${groupIdx}`];
                                                     return (
                                                         <div key={li} className={`code-line transition-all duration-300 ${isRevealed ? 'opacity-100' : 'opacity-20'}`}>
                                                             <span className="text-gray-500 select-none mr-4 inline-block w-8 text-right text-sm">{li+1}</span>
                                                             <span className={`${line.includes('//') ? 'text-green-400' : line.includes('#include') ? 'text-pink-400' : line.includes('int') || line.includes('return') || line.includes('void') ? 'text-blue-400' : line.includes('printf') || line.includes('for') || line.includes('if') ? 'text-yellow-300' : 'text-gray-100'}`}>{line || '\u00A0'}</span>
                                                         </div>
                                                     );
                                                 })}
                                             </div>
                                         </div>
                                         <div className="mt-4 bg-green-900 text-green-100 rounded-lg p-4">
                                             <div className="font-semibold text-xl mb-2">Output:</div>
                                             <div className="font-mono text-lg whitespace-pre-wrap">{slide.output}</div>
                                         </div>
                                     </div>
                                 </div>
                             )}
                             {/* compare side-by-side */}
                             {slide.type === 'compare' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-4xl font-bold text-blue-900 mb-4 border-b-4 border-blue-500 pb-3">{slide.title}</h2>
                                     <div className="flex gap-6 h-full">
                                         <div className="flex-1 bg-gray-50 rounded-lg p-5 border-2 border-gray-200 overflow-auto">
                                             <div className="text-2xl font-bold text-gray-800 mb-3">{slide.left.title}</div>
                                             <div className="font-mono text-lg bg-gray-900 p-4 rounded-lg text-gray-100">
                                                 {slide.left.code.map((l, idx) => (
                                                     <div key={idx}><span className="text-gray-500 mr-3">{idx+1}</span>{l}</div>
                                                 ))}
                                             </div>
                                             <div className="mt-4 bg-gray-800 text-gray-100 p-3 rounded">Output: <span className="font-mono ml-2">{slide.left.output}</span></div>
                                         </div>
                                         <div className="flex-1 bg-gray-50 rounded-lg p-5 border-2 border-gray-200 overflow-auto">
                                             <div className="text-2xl font-bold text-gray-800 mb-3">{slide.right.title}</div>
                                             <div className="font-mono text-lg bg-gray-900 p-4 rounded-lg text-gray-100">
                                                 {slide.right.code.map((l, idx) => (
                                                     <div key={idx}><span className="text-gray-500 mr-3">{idx+1}</span>{l}</div>
                                                 ))}
                                             </div>
                                             <div className="mt-4 bg-gray-800 text-gray-100 p-3 rounded">Output: <span className="font-mono ml-2">{slide.right.output}</span></div>
                                         </div>
                                     </div>
                                 </div>
                             )}
                             {/* practice */}
                             {slide.type === 'practice' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-4xl font-bold text-blue-900 mb-4 border-b-4 border-blue-500 pb-3">{slide.title}</h2>
                                     <div className="flex-1 overflow-auto">
                                         <div className="grid grid-cols-2 gap-4">
                                             {slide.problems.map((p, i) => (
                                                 <div key={i} className="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-5 border-2 border-purple-200">
                                                     <div className="flex items-start gap-4">
                                                         <div className="w-12 h-12 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold text-xl">{i+1}</div>
                                                         <div className="text-lg font-semibold text-gray-800">{p}</div>
                                                     </div>
                                                 </div>
                                             ))}
                                         </div>
                                     </div>
                                 </div>
                             )}
                             {/* sort-animation */}
                             {slide.type === 'sort-animation' && (
                                 <div className="h-full flex flex-col">
                                     <h2 className="text-3xl font-bold text-blue-900 mb-3 border-b-4 border-blue-500 pb-2">{slide.title}</h2>
                                     {slide.description && <p className="text-lg text-gray-600 mb-3 italic">{slide.description}</p>}
                                     <div className="flex-1 flex flex-col justify-center items-center gap-8">
                                         {(() => {
                                             const currentStep = Object.keys(revealed).filter(k => k.startsWith(`${currentSlide}-`)).length;
                                             const stepData = slide.steps[currentStep];
                                             const array = stepData.array;
                                             let colorMap = {};
                                             let description = '';
                                             if (slide.algorithm === 'bubble') {
                                                 if (stepData.action === 'initial') {
                                                     description = 'Initial array state';
                                                 } else if (stepData.action === 'done') {
                                                     description = 'Array sorted!';
                                                 } else if (stepData.action === 'compare') {
                                                     description = `Comparing ${array[stepData.indices[0]]} and ${array[stepData.indices[1]]}`;
                                                     stepData.indices.forEach(idx => colorMap[idx] = 'bg-blue-200 text-blue-900');
                                                 } else if (stepData.action === 'needs_swap') {
                                                     description = 'Current > adjacent: needs swap';
                                                     stepData.indices.forEach(idx => colorMap[idx] = 'bg-red-200 text-red-900');
                                                 } else if (stepData.action === 'swap') {
                                                     description = 'Swapped';
                                                     stepData.indices.forEach(idx => colorMap[idx] = 'bg-green-200 text-green-900');
                                                 } else if (stepData.action === 'no_swap') {
                                                     description = 'Current <= adjacent: no swap';
                                                     stepData.indices.forEach(idx => colorMap[idx] = 'bg-green-200 text-green-900');
                                                 }
                                             } else if (slide.algorithm === 'selection') {
                                                 let currentMin = stepData.min_idx;
                                                 let passIdx = stepData.pass;
                                                 if (stepData.action === 'initial') {
                                                     description = 'Initial array state';
                                                 } else if (stepData.action === 'done') {
                                                     description = 'Array sorted!';
                                                 } else {
                                                     if (stepData.action === 'update_min') {
                                                         currentMin = stepData.new_min_idx;
                                                         colorMap[stepData.old_min_idx] = 'bg-purple-200 text-purple-900'; // previous min
                                                         description = `Updating min to ${array[currentMin]} at index ${currentMin}`;
                                                     } else if (stepData.action === 'start_pass') {
                                                         description = `Starting iteration ${passIdx}, initial min at ${currentMin} (${array[currentMin]})`;
                                                     } else if (stepData.action === 'compare') {
                                                         description = `Comparing ${array[stepData.indices[0]]} at ${stepData.indices[0]} with min ${array[currentMin]} at ${currentMin}`;
                                                     } else if (stepData.action === 'no_update') {
                                                         description = 'No smaller value found';
                                                     } else if (stepData.action === 'needs_swap') {
                                                         description = 'Needs swap with min element';
                                                         stepData.indices.forEach(idx => colorMap[idx] = 'bg-red-200 text-red-900');
                                                     } else if (stepData.action === 'swap') {
                                                         description = 'Swapped with min';
                                                         stepData.indices.forEach(idx => colorMap[idx] = 'bg-green-200 text-green-900');
                                                     } else if (stepData.action === 'no_swap_pass') {
                                                         description = 'No swap needed for this iteration';
                                                     }
                                                     if (passIdx !== null && passIdx !== undefined) {
                                                         colorMap[passIdx] = colorMap[passIdx] || 'bg-yellow-200 text-yellow-900';
                                                     }
                                                     if (currentMin !== null && currentMin !== undefined) {
                                                         colorMap[currentMin] = 'bg-green-200 text-green-900';
                                                     }
                                                     if (stepData.indices && stepData.indices.length > 0 && (stepData.action === 'compare' || stepData.action === 'no_update' || (stepData.action === 'update_min' && stepData.indices[0] !== currentMin))) {
                                                         stepData.indices.forEach(idx => {
                                                             if (idx !== currentMin && idx !== passIdx) {
                                                                 colorMap[idx] = 'bg-blue-200 text-blue-900';
                                                             }
                                                         });
                                                     }
                                                 }
                                             }
                                             return (
                                                 <>
                                                     <div className="flex gap-6">
                                                         {array.map((val, idx) => (
                                                             <div key={idx} className={`w-24 h-24 flex items-center justify-center text-4xl font-bold rounded-xl shadow-lg transition-all duration-400 ${colorMap[idx] || 'bg-gray-200 text-gray-900'}`}>
                                                                 {val}
                                                             </div>
                                                         ))}
                                                     </div>
                                                     <div className="text-2xl text-gray-800 mt-6 font-semibold">{description}</div>
                                                 </>
                                             );
                                         })()}
                                     </div>
                                 </div>
                             )}
                             {slide.type === 'thankyou' && (
                                 <div className="h-full flex items-center justify-center">
                                     <div className="text-center">
                                         <h1 className="text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-600">Thank You</h1>
                                         <p className="text-2xl text-gray-700 mt-6">Keep practicing — happy coding!</p>
                                     </div>
                                 </div>
                             )}
                         </div>
                     </div>
                 </div>
             );
         };
         const root = ReactDOM.createRoot(document.getElementById('root'));
         root.render(<Sorting />);
      </script>
   </body>
</html>